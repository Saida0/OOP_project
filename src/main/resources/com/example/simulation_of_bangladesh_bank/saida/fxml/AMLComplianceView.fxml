<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<VBox spacing="20.0" style="-fx-background-color: white;" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.simulation_of_bangladesh_bank.saida.controller.AMLComplianceController">
   <padding>
      <Insets bottom="30.0" left="30.0" right="30.0" top="30.0" />
   </padding>
   <children>

      <!-- Header -->
      <VBox spacing="5.0">
         <children>
            <Label style="-fx-text-fill: black; -fx-font-weight: bold;" text="AML Compliance Supervision">
               <font><Font name="System Bold" size="24.0"/></font>
            </Label>
            <Label style="-fx-text-fill: black;" text="Monitor and investigate Anti-Money Laundering compliance and suspicious activities">
               <font><Font size="13.0"/></font>
            </Label>
         </children>
      </VBox>

      <!-- Statistics Cards -->
      <HBox spacing="20.0">

         <VBox spacing="10.0" style="-fx-background-color: white; -fx-border-color: #d0d0d0; -fx-border-radius: 12;" HBox.hgrow="ALWAYS">
            <padding><Insets bottom="20" left="20" right="20" top="20"/></padding>
            <children>
               <Label style="-fx-text-fill: black;" text="">
                  <font><Font size="24"/></font>
               </Label>
               <Label style="-fx-text-fill: black;" text="High Risk Cases">
                  <font><Font size="12"/></font>
               </Label>
               <Label fx:id="lblHighRisk" style="-fx-text-fill: black; -fx-font-weight: bold;" text="0">
                  <font><Font name="System Bold" size="24"/></font>
               </Label>
            </children>
         </VBox>

         <VBox spacing="10.0" style="-fx-background-color: white; -fx-border-color: #d0d0d0; -fx-border-radius: 12;" HBox.hgrow="ALWAYS">
            <padding><Insets bottom="20" left="20" right="20" top="20"/></padding>
            <children>
               <Label style="-fx-text-fill: black;" text="">
                  <font><Font size="24"/></font>
               </Label>
               <Label style="-fx-text-fill: black;" text="Medium Risk">
                  <font><Font size="12"/></font>
               </Label>
               <Label fx:id="lblMediumRisk" style="-fx-text-fill: black; -fx-font-weight: bold;" text="0">
                  <font><Font name="System Bold" size="24"/></font>
               </Label>
            </children>
         </VBox>

         <VBox spacing="10.0" style="-fx-background-color: white; -fx-border-color: #d0d0d0; -fx-border-radius: 12;" HBox.hgrow="ALWAYS">
            <padding><Insets bottom="20" left="20" right="20" top="20"/></padding>
            <children>
               <Label style="-fx-text-fill: black;" text="">
                  <font><Font size="24"/></font>
               </Label>
               <Label style="-fx-text-fill: black;" text="Under Investigation">
                  <font><Font size="12"/></font>
               </Label>
               <Label fx:id="lblUnderInvestigation" style="-fx-text-fill: black; -fx-font-weight: bold;" text="0">
                  <font><Font name="System Bold" size="24"/></font>
               </Label>
            </children>
         </VBox>

         <VBox spacing="10.0" style="-fx-background-color: white; -fx-border-color: #d0d0d0; -fx-border-radius: 12;" HBox.hgrow="ALWAYS">
            <padding><Insets bottom="20" left="20" right="20" top="20"/></padding>
            <children>
               <Label style="-fx-text-fill: black;" text="">
                  <font><Font size="24"/></font>
               </Label>
               <Label style="-fx-text-fill: black;" text="Resolved">
                  <font><Font size="12"/></font>
               </Label>
               <Label fx:id="lblResolved" style="-fx-text-fill: black; -fx-font-weight: bold;" text="0">
                  <font><Font name="System Bold" size="24"/></font>
               </Label>
            </children>
         </VBox>

      </HBox>

      <!-- Investigation Form -->
      <VBox spacing="20.0" style="-fx-background-color: white; -fx-border-color: #d0d0d0; -fx-border-radius: 12;">
         <padding><Insets bottom="25" left="25" right="25" top="25"/></padding>
         <children>

            <Label style="-fx-text-fill: black; -fx-font-weight: bold;" text="Case Investigation">
               <font><Font name="System Bold" size="16"/></font>
            </Label>

            <HBox spacing="20.0">
               <children>

                  <VBox spacing="8.0" HBox.hgrow="ALWAYS">
                     <children>
                        <Label style="-fx-text-fill: black;" text="Transaction ID"/>
                        <TextField fx:id="txtTransactionID" prefHeight="40.0" promptText="Enter transaction ID"
                                   style="-fx-background-color: #f5f5f5; -fx-border-color: #bfbfbf; -fx-border-radius: 6;"/>
                     </children>
                  </VBox>

                  <VBox spacing="8.0" HBox.hgrow="ALWAYS">
                     <children>
                        <Label style="-fx-text-fill: black;" text="Risk Flag"/>
                        <ComboBox fx:id="cmbRiskFlag" prefHeight="40.0" prefWidth="250.0"
                                  promptText="Select risk level"
                                  style="-fx-background-color: #f5f5f5; -fx-border-color: #bfbfbf; -fx-border-radius: 6;"/>
                     </children>
                  </VBox>

                  <VBox spacing="8.0">
                     <children>
                        <Label style="-fx-text-fill: black;" text="Review Date"/>
                        <DatePicker fx:id="dpReviewDate" prefHeight="40.0" prefWidth="180.0"
                                    promptText="Select date"
                                    style="-fx-background-color: #f5f5f5; -fx-border-color: #bfbfbf; -fx-border-radius: 6;"/>
                     </children>
                  </VBox>

               </children>
            </HBox>

            <VBox spacing="8.0">
               <children>
                  <Label style="-fx-text-fill: black;" text="Investigation Notes"/>
                  <TextArea fx:id="txtInvestigationNotes" prefHeight="80.0"
                            promptText="Enter investigation notes..."
                            style="-fx-background-color: #f5f5f5; -fx-border-color: #bfbfbf; -fx-border-radius: 6;"/>
               </children>
            </VBox>

            <HBox spacing="15.0">
               <children>

                  <Button fx:id="btnLoadReports" text="Load Reports"
                          onAction="#loadSuspiciousReports" prefHeight="45.0" prefWidth="180.0"
                          style="-fx-background-color: #e0e0e0; -fx-text-fill: black; -fx-border-radius: 6;"/>

                  <Button fx:id="btnValidate" text="Validate Red Flags"
                          onAction="#validateAMLRedFlags" prefHeight="45.0" prefWidth="180.0"
                          style="-fx-background-color: #e0e0e0; -fx-text-fill: black; -fx-border-radius: 6;"/>

                  <Button fx:id="btnRecord" text="Record Investigation"
                          onAction="#recordInvestigation" prefHeight="45.0" prefWidth="180.0"
                          style="-fx-background-color: #e0e0e0; -fx-text-fill: black; -fx-border-radius: 6;"/>

                  <Button fx:id="btnGenerate" text="Generate Report"
                          onAction="#generateAMLReport" prefHeight="45.0" prefWidth="180.0"
                          style="-fx-background-color: #e0e0e0; -fx-text-fill: black; -fx-border-radius: 6;"/>

               </children>
            </HBox>

         </children>
      </VBox>

      <!-- Table Section -->
      <VBox spacing="15.0" style="-fx-background-color: white; -fx-border-color: #d0d0d0; -fx-border-radius: 12;" VBox.vgrow="ALWAYS">
         <padding><Insets bottom="25" left="25" right="25" top="25"/></padding>
         <children>

            <HBox alignment="CENTER_LEFT" spacing="20.0">
               <children>
                  <Label text="Suspicious Activity Reports" style="-fx-text-fill: black; -fx-font-weight: bold;">
                     <font><Font name="System Bold" size="16"/></font>
                  </Label>
                  <Button text="Refresh" onAction="#refreshTable"
                          prefHeight="35.0"
                          style="-fx-background-color: #e0e0e0; -fx-text-fill: black; -fx-border-radius: 6;"/>
               </children>
            </HBox>

            <TableView fx:id="tblAMLCases" VBox.vgrow="ALWAYS">
               <columns>
                  <TableColumn fx:id="colTransactionID" prefWidth="120.0" text="Transaction ID"/>
                  <TableColumn fx:id="colRiskFlag" prefWidth="100.0" text="Risk Level"/>
                  <TableColumn fx:id="colAmount" prefWidth="130.0" text="Amount (à§³)"/>
                  <TableColumn fx:id="colDate" prefWidth="110.0" text="Date"/>
                  <TableColumn fx:id="colStatus" prefWidth="120.0" text="Status"/>
                  <TableColumn fx:id="colNotes" prefWidth="200.0" text="Notes"/>
               </columns>
            </TableView>

         </children>
      </VBox>

   </children>
</VBox>
